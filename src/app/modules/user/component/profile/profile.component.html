<ngx-spinner></ngx-spinner>

<app-edit-user-profile
  [userDetail]="userDetail"
  (updateUserDetail)="getUserDetails()"
  *ngIf="isEdit"
  (close)="isEdit = false"
>
</app-edit-user-profile>

<app-request-alumni
  [userDetail]="userDetail"
  (updateUserDetail)="getUserDetails()"
  *ngIf="isAlumni"
  (close)="isAlumni = false"
>
</app-request-alumni>

<div *ngIf="view" class="dashboard__body-container">
  <header class="dashboard__header">
    <div class="dashboard__header__profile">
      <div class="dashboard__header__profile__basic-info">
        <img
          [src]="
            userDetail.profileImage
              ? imageUrl + userDetail.profileImage
              : imageUrl + 'default.png'
          "
          alt=""
          class="dashboard__header__profile__basic-info__dp"
        />
        <div class="dashboard__header__profile__basic-info__text">
          <h1
            class="dashboard__header__profile__basic-info__text__name heading-1"
          >
            {{ userDetail.name }}
          </h1>
          <p class="dashboard__header__profile__basic-info__text__brief">
            {{ userDetail?.alumniId?.branchOfStudy }}
          </p>
          <div class="dashboard__header__profile__basic-info__text__buttons">
            <button
              class="
                dashboard__header__profile__basic-info__text__buttons--edit-profile
              "
              (click)="isEdit = true"
            >
              Edit profile
            </button>
            <button
              class="
                dashboard__header__profile__basic-info__text__buttons--reqalumni
              "
              (click)="isAlumni = true"
            >
              {{
                userDetail.alumniId ? "Update Alumni Info" : "Request Alumni"
              }}
            </button>
          </div>
        </div>
      </div>
      <div class="dashboard__header__profile__external-links">
        <div class="dashboard__header__profile__external-links__basic">
          <!-- Alumni Data Start -->
          <div
            class="
              dashboard__header__profile__external-links__basic__company-data
            "
            *ngIf="userDetail?.alumniId"
          >
            <div
              class="dashboard__header__profile__external-links__basic__group"
            >
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__title
                "
              >
                Company Name
              </div>
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__info
                "
              >
                {{ userDetail?.alumniId?.companyName }}
              </div>
            </div>
            <div
              class="dashboard__header__profile__external-links__basic__group"
            >
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__title
                "
              >
                Company Email
              </div>
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__info
                "
              >
                {{ userDetail?.alumniId?.companyEmail }}
              </div>
            </div>
            <div
              class="dashboard__header__profile__external-links__basic__group"
            >
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__title
                "
              >
                Company Address
              </div>
              <div
                class="
                  dashboard__header__profile__external-links__basic__group__info
                "
              >
                {{ userDetail?.alumniId?.companyAddress }}
              </div>
            </div>
          </div>
          <!-- Alumni data end -->
          <div class="dashboard__header__profile__external-links__basic__group">
            <div
              class="
                dashboard__header__profile__external-links__basic__group__title
              "
            >
              Email
            </div>
            <div
              class="
                dashboard__header__profile__external-links__basic__group__info
              "
            >
              {{ userDetail?.email }}
            </div>
          </div>
          <div
            class="dashboard__header__profile__external-links__basic__group"
            *ngIf="userDetail?.dob"
          >
            <div
              class="
                dashboard__header__profile__external-links__basic__group__title
              "
            >
              Date Of Birth
            </div>
            <div
              class="
                dashboard__header__profile__external-links__basic__group__info
              "
            >
              {{ userDetail?.dob.split("T")[0] }}
            </div>
          </div>
          <div
            class="dashboard__header__profile__external-links__basic__group"
            *ngIf="userDetail?.dob"
          >
            <div
              class="
                dashboard__header__profile__external-links__basic__group__title
              "
            >
              Address
            </div>
            <div
              class="
                dashboard__header__profile__external-links__basic__group__info
              "
            >
              {{ userDetail?.address }}
            </div>
          </div>
        </div>
        <div class="dashboard__header__profile__external-links__links">
          <div
            class="dashboard__header__profile__external-links__links__link"
            *ngIf="userDetail?.socialmedia?.linkedin"
          >
            <a
              [href]="userDetail?.socialmedia?.linkedin"
              class="
                dashboard__header__profile__external-links__links__link__icon
              "
            >
              <img src="../../../../../assets/img/icons/linkedin.svg" alt="" />
            </a>
          </div>
          <div
            class="dashboard__header__profile__external-links__links__link"
            *ngIf="userDetail?.socialmedia?.facebook"
          >
            <a
              [href]="userDetail?.socialmedia?.facebook"
              class="
                dashboard__header__profile__external-links__links__link__icon
              "
            >
              <img src="../../../../../assets/img/icons/facebook.svg" alt="" />
            </a>
          </div>
          <div
            class="dashboard__header__profile__external-links__links__link"
            *ngIf="userDetail?.socialmedia?.instagram"
          >
            <a
              [href]="userDetail?.socialmedia?.instagram"
              class="
                dashboard__header__profile__external-links__links__link__icon
              "
            >
              <img src="../../../../../assets/img/icons/instagram.svg" alt="" />
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <main class="dashboard__main"></main>
</div>
